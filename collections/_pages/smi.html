---
layout: page
permalink: /service-mesh-interface
title: SMI Conformance
heading: Service Mesh Interface Conformance
redirect_from: smi
---

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script>

  function returnIcon(iconData){
    let iconProperties;
    switch (iconData.capability) {
                  case "NONE":
                  iconProperties = {
                      "class":"fa fa-times-circle",
                      "style":
                      "font-size:32px;color:red;cursor:help;"
                    }
                    break;
                  case "FULL":
                  iconProperties={
                    "class":"fa fa-check-circle",
                    "style":"font-size:32px;color:green;cursor:help;"
                  }
                    break;
                  case "HALF":
                  iconProperties={
                      "class":"fa fa-check-circle",
                      "style":
                      "font-size:32px;color:orange;clip-path: polygon(0 0, 50% 0, 50% 100%, 0% 100%);cursor:help;"
                    }
                    break;
                }
    return iconProperties;
  }

  function returnMeshImagePath(mesh_name){
    let imagePath;
    switch (mesh_name) {
              case "Traefik Mesh":
              imagePath =  "images/traefik-mesh.svg";
                break;
              case "Open Service Mesh":
              imagePath =  "images/osm.svg";
                break;
              case "Nginx Service Mesh":
              imagePath =  "images/nginx-sm.svg";
                break;
              case "Linkerd":
              imagePath =  "images/linkerd.svg";
                break;
              case "Kuma":
              imagePath =  "images/Kuma.svg";
                break;
              case "Consul":
              imagePath =  "images/consul.svg";
                break;
              case "App Mesh":
              imagePath =  "images/aws-app-mesh.svg";
                break;
              case "Istio":
              imagePath =  "images/istio.svg";
                break;
            }

            return imagePath ;

  }

  function createTable(data) {
    let mapTest = {};

    for(x in data){
      
      if(mapTest[data[x].mesh_version]!=undefined){
        let testArray=[];
        testArray=mapTest[data[x].mesh_version];
        testArray.push(data[x]);
        mapTest[data[x].mesh_version] = testArray; 
      }else{
        let testArray=[];
        testArray.push(data[x]);
        mapTest[data[x].mesh_version] = testArray;
      }
      
    }

    mapTest = Object.fromEntries(Object.entries(mapTest).sort());

    let table = document.getElementById("meshTable");
    let topRowVersion = document.getElementById("tableHeader");

    let lastBodyActive;

    Object.entries(mapTest).forEach(([key,value])=>{
      
      let th = document.createElement("th");
      th.id = key;
      th.innerHTML=key;
      topRowVersion.appendChild(th);
      
      let tbody = document.createElement("tbody");
      tbody.id = key+"tableBody";
      tbody.setAttribute("hidden","hidden");
      table.appendChild(tbody);

      th.onclick = function(){

        if(th.id != lastBodyActive){
          
        let hideBody = document.getElementById(lastBodyActive+"tableBody");
        hideBody.setAttribute("hidden","hidden");
        let tbodyActive = document.getElementById(th.id+"tableBody");
        tbodyActive.removeAttribute("hidden");
        lastBodyActive = th.id;

        let tableHeaderBottom = document.getElementById("tableHeaderBottom");
        tableHeaderBottom.cells[2].childNodes[1].innerHTML = mapTest[lastBodyActive][0]["more_details"][0].smi_version;
        tableHeaderBottom.cells[3].childNodes[1] =  mapTest[lastBodyActive][0]["more_details"][1].smi_version;
        tableHeaderBottom.cells[4].childNodes[1] =  mapTest[lastBodyActive][0]["more_details"][2].smi_version;
        
        }
        
      }

      lastBodyActive = key;

    });

    let tableHeaderBottom = document.getElementById("tableHeaderBottom");
      let div1 = document.createElement("div");
      let div2 = document.createElement("div");
      let div3 = document.createElement("div");
      div1.classList.add("subHeading");
      div2.classList.add("subHeading");
      div3.classList.add("subHeading");

      div1.innerHTML = mapTest[lastBodyActive][0]["more_details"][0].smi_version;
      div2.innerHTML = mapTest[lastBodyActive][0]["more_details"][1].smi_version;
      div3.innerHTML = mapTest[lastBodyActive][0]["more_details"][2].smi_version;

      tableHeaderBottom.cells[2].appendChild(div1);
      tableHeaderBottom.cells[3].appendChild(div2);
      tableHeaderBottom.cells[4].appendChild(div3);
        
    let makeVisibleLastBody = document.getElementById(lastBodyActive+"tableBody");
      makeVisibleLastBody.removeAttribute("hidden");

    Object.entries(mapTest).forEach(([key,value])=>{
      let tbody = document.getElementById(key+"tableBody");
      for(x in value){
        let tr = document.createElement("tr");

        tr.setAttribute("class", "collapse-head");
            tr.setAttribute("style", "border-bottom: 1px solid rgb(239, 239, 239);");
            tr.setAttribute("data-toggle", "tooltip");
        
        let tcName = document.createElement("td");
        const img = document.createElement("img");
        img.setAttribute("style", "height:40px;width:40px!important");
        img.setAttribute("alt", value[x].mesh_name);
        img.setAttribute("data-toggle", "tooltip");
        img.setAttribute("title", value[x].mesh_name);

        let imgPath = returnMeshImagePath(value[x].mesh_name);
        if(imgPath!=undefined){
          img.setAttribute("src",imgPath);
        }
        
        tcName.appendChild(img);
        
        tr.appendChild(tcName);
        let tcMeshVersion = document.createElement("td");
        tcMeshVersion.innerHTML = value[x].mesh_version;
        tr.appendChild(tcMeshVersion);

        for(y in value[x].more_details){
          let tcIcon = document.createElement("td");
          
          if(value[x].more_details[y].reason != undefined && value[x].more_details[y].result != undefined){
            tcIcon.setAttribute("title", `${value[x].more_details[y].reason} | ${value[x].more_details[y].result}`);
           }else if(value[x].more_details[y].reason != undefined ){
            tcIcon.setAttribute("title", `${value[x].more_details[y].reason}`);
          }else if(value[x].more_details[y].result != undefined ){
            tcIcon.setAttribute("title", `${value[x].more_details[y].result}`);
          }

          tcIcon.setAttribute("data-toggle", "tooltip");
          
          let i = document.createElement("i");
          let propeties = returnIcon(value[x].more_details[y]);
          i.setAttribute("class",propeties.class);
          i.setAttribute("style",propeties.style);
          tcIcon.append(i);
          tr.appendChild(tcIcon);
        }

        let tcPassed = document.createElement("td");
        tcPassed.innerHTML = value[x].passing_percentage+"%";
        tr.appendChild(tcPassed);

        tbody.appendChild(tr);

      }

    });

  }

  $(document).ready(function () {
    $(".collapse-head").click(function () {
      $(".collapse-" + $(this).attr("id"))
        .find(".collapse-body")
        .slideToggle();
    });

    $.getJSON(
      "https://meshery.layer5.io/smi/results/public",
      (data, status) => {
        // Disable spinner
        $(".loader").addClass("hide");

        if (status !== "success") return;

        createTable(data.results);
      }
    );
  });
</script>

<style>
  .mainLegendDiv {
    display: flex;
    margin-left: 30%;
    margin-right: 17%;
    padding-top: 1.5rem;
  }

  .legend {
    display: flex;
    width: auto;
    margin-left: auto;
    padding: 0.3rem;
    margin-top: -1.5%;
    vertical-align: middle;
    border: 1px inset rgb(60, 73, 79);
    background-color: rgb(30, 33, 23);
    opacity: 0.85;
    color: rgb(239, 239, 239);
    font-size: 0.9rem;
  }

  .legendBoxes {
    padding-left: 0.5rem;
    padding-right: 0.5rem;
    font-size: 13px;
    background-color: rgb(255, 255, 255);
    color: rgb(30, 33, 23);
    border: 1px dashed rgb(179, 179, 179);
    margin: 0rem 0.3rem;
    text-align: center;
    vertical-align: center;
    display: flex;
  }

  .legendBoxes img {
    vertical-align: center;
    align-self: middle;
    margin-right: 0.25rem;
    padding-top: 0.15rem;
    width: 2.1rem;
    height: 2.1rem;
  }

  .legendBoxes p {
    all: revert;
    text-align: center;
    vertical-align: center;
    font-size: 0.7rem;
    align-self: middle;
  }

  .legend span {
    font-size: 1rem;
    font-weight: 500;
    margin: auto 0.5rem auto auto;
  }

  .table {
    color: #3c494e;
    background-color: #ffffff;
    margin: auto;
    border: none;
    box-shadow: rgb(0 0 0 / 20%) 0px 2px 16px;
  }

  .tableHead {
    background-color: #a6b7be;
    color: #222;
    word-wrap: none;
    width: 100%;
  }

  td {
    padding: 0.6em 0.6em;
    display: table-cell;
    text-align: center;
    border: none !important;
    font-size: small;
  }

  th {
    border: solid lightslategrey;
    border-width: 0.5px;
  }
  
  td {
    border: solid lightslategrey;
    border-width: 1px;
    
  }

  .top-row-table #version {
    background-color: rgb(30, 33, 23);
    color: rgb(255, 255, 255);
    height: 3.5rem;
    font-size: 1rem;
    font-weight: 600;
    border-radius: 10px 0px 0px 0px;
    border: none !important
  }

  .top-row-table #blank {
    background-color: rgb(0, 179, 159);
    height: 3.5rem;
    border: none !important
  }

  .top-row-table #lastBlank {
    background-color: rgb(0, 179, 159);
    height: 3.5rem;
    border-radius: 0px 10px 0px 0px;
    border: none !important
  }

  .bottom-row-table {
    background-color: rgb(30, 33, 23);
    color: rgb(255, 255, 255);
    height: 4rem;
    font-size: 1rem;
    font-weight: 600;
  }

  p {
    text-align: center;
    margin: 1rem 5rem;
  }

  .hide {
    display: none;
  }

  .loader {
    color: #00b39f;
    font-size: 90px;
    text-indent: -9999em;
    overflow: hidden;
    width: 1em;
    height: 1em;
    border-radius: 50%;
    margin: 72px auto;
    position: relative;
    -webkit-transform: translateZ(0);
    -ms-transform: translateZ(0);
    transform: translateZ(0);
    -webkit-animation: load6 1.7s infinite ease, round 1.7s infinite ease;
    animation: load6 1.7s infinite ease, round 1.7s infinite ease;
  }

  .subHeading{
    font-size: small;
    font-weight: normal;
  }

  @-webkit-keyframes load6 {
    0% {
      box-shadow: 0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em,
        0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em;
    }

    5%,
    95% {
      box-shadow: 0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em,
        0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em;
    }

    10%,
    59% {
      box-shadow: 0 -0.83em 0 -0.4em, -0.087em -0.825em 0 -0.42em,
        -0.173em -0.812em 0 -0.44em, -0.256em -0.789em 0 -0.46em,
        -0.297em -0.775em 0 -0.477em;
    }

    20% {
      box-shadow: 0 -0.83em 0 -0.4em, -0.338em -0.758em 0 -0.42em,
        -0.555em -0.617em 0 -0.44em, -0.671em -0.488em 0 -0.46em,
        -0.749em -0.34em 0 -0.477em;
    }

    38% {
      box-shadow: 0 -0.83em 0 -0.4em, -0.377em -0.74em 0 -0.42em,
        -0.645em -0.522em 0 -0.44em, -0.775em -0.297em 0 -0.46em,
        -0.82em -0.09em 0 -0.477em;
    }

    100% {
      box-shadow: 0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em,
        0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em;
    }
  }

  @keyframes load6 {
    0% {
      box-shadow: 0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em,
        0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em;
    }

    5%,
    95% {
      box-shadow: 0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em,
        0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em;
    }

    10%,
    59% {
      box-shadow: 0 -0.83em 0 -0.4em, -0.087em -0.825em 0 -0.42em,
        -0.173em -0.812em 0 -0.44em, -0.256em -0.789em 0 -0.46em,
        -0.297em -0.775em 0 -0.477em;
    }

    20% {
      box-shadow: 0 -0.83em 0 -0.4em, -0.338em -0.758em 0 -0.42em,
        -0.555em -0.617em 0 -0.44em, -0.671em -0.488em 0 -0.46em,
        -0.749em -0.34em 0 -0.477em;
    }

    38% {
      box-shadow: 0 -0.83em 0 -0.4em, -0.377em -0.74em 0 -0.42em,
        -0.645em -0.522em 0 -0.44em, -0.775em -0.297em 0 -0.46em,
        -0.82em -0.09em 0 -0.477em;
    }

    100% {
      box-shadow: 0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em,
        0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em;
    }
  }

  @-webkit-keyframes round {
    0% {
      -webkit-transform: rotate(0deg);
      transform: rotate(0deg);
    }

    100% {
      -webkit-transform: rotate(360deg);
      transform: rotate(360deg);
    }
  }

  @keyframes round {
    0% {
      -webkit-transform: rotate(0deg);
      transform: rotate(0deg);
    }

    100% {
      -webkit-transform: rotate(360deg);
      transform: rotate(360deg);
    }
  }

  /*Ipad Pro Sizing*/
  @media screen and (max-width:1024px) {
    .mainLegendDiv {
      display: flex;
      margin-right: 11.5%;
    }
    .legend {
      display: flex;
      align-content: left;
    }
  }

  /*Tablet Sizing*/
  @media screen and (min-width: 900px) {
    th,
    td {
      font-size: larger;
    }

    p {
      margin: 1rem 2rem;
    }
    .legend {
      font-weight: 900;
      align-content: left;
    }
  }

  /*Ipad Sizing*/
  @media screen and (max-width:768px) {
    .mainLegendDiv {
      display: flex;
      margin-right: 13.5%;
      margin-left: 20%;
    }
    .legend {
      display: flex;
      font-weight: 900;
      margin-right: -14.5%;
      align-content: left;
    }
    .tableDiv {
      overflow-x: scroll;
      padding-bottom: 15px;
    }
  }
  @media screen and (max-width: 650px) {
    .legend {
      display: flex;
      flex-direction: column;
      flex-wrap: wrap;
      margin-right: 8%;
      font-weight: 900;
      align-content: left;
    }
    .tableDiv {
      overflow-x: scroll;
      padding-bottom: 15px;
    }
    .tableDiv {
      overflow-x: scroll;
      padding-bottom: 15px;
    }
  }

  /*Mobile Device Sizing*/
  @media screen and (max-width:375px) {
    .legend {
      display: flex;
      flex-direction: column;
      flex-wrap: wrap;
      margin-right: 8%;
      font-weight: 900;
      align-content: left;
    }
    .tableDiv {
      overflow-x: scroll;
      padding-bottom: 15px;
    }
  }
</style>

<div style="justify-content: center">
  <div class="js-data"></div>
  <div class="tableDiv">
    <table class="table highlighted table-responsive table-hover" id="meshTable">
      <thead class="tableHead">
        <tr class="top-row-table" id="tableHeader">
          
        </tr>
        <tr class="bottom-row-table" id="tableHeaderBottom">
          <th>Service Mesh</th>
          <th>Mesh Version</th>
          <th class="traffic-access">Traffic Access</th>
          <th class="traffic-split">Traffic Split</th>
          <th class="traffic-spec">Traffic Spec</th>
          <th>% Passed</th>
        </tr>
      </thead>
    </table>
    <div class="mainLegendDiv">
      <div class="legend">
        <span>Legend:</span>
        <div class="legendBoxes">
          <img alt="Full" src="../../images/success-check-mark.png">
          <p>Fully Compatible</p>
        </div>
        <div class="legendBoxes">
          <img alt="Half" src="../../images/half-check-mark.png">
          <p>Partially Compatible</p>
        </div>
        <div class="legendBoxes">
          <img alt="None" src="../../images/failing.png">
          <p>Incompatible</p>
        </div>
      </div>
    </div>
    <div class="loader"></div>
  </div>
</div>
<p style="margin-top: 1rem">
  Interested in how the SMI Conformance program works or details of the specific
  tests that are run?
</p>
<p style="font-size: 1.25rem">
  <a href="https://layer5.io/projects/service-mesh-interface-conformance">Learn more about Service Mesh Interface
    Conformance.</a>
</p>